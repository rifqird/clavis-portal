{{> partials/main }}

<head>

    {{> partials/title-meta title="Ecommerce Dashboard" }}

    {{> partials/head-css }}
    <style>
        img { max-width: 300px; margin-bottom: 10px; }
    </style>
</head>

{{> partials/body }}
<script src="assets/js/pages/authMiddleware.js"></script>

<!-- Start Layout -->
<div class="bg-slate-50 dark:bg-dark">

    <!-- Start detached bg -->
    <div class="bg-[url('../images/bg-main.png')] bg-slate-800 group-data-[sidebar=dark]/item:bg-darklight group-data-[sidebar=brand]/item:bg-sky-500 min-h-[220px] sm:min-h-[250px] bg-bottom fixed hidden w-full -z-50 detached-img"></div>
    <!-- End detached bg -->

    <!-- Start Menu Sidebar Olverlay -->
    <div x-cloak class="fixed inset-0 z-10 bg-black/60 dark:bg-dark/90 lg:hidden" :class="{'hidden' : !$store.app.sidebar}" @click="$store.app.toggleSidebar()"></div>

    <!-- End Menu Sidebar Olverlay -->

    <!-- Start Main Content -->
    <div class="flex mx-auto main-container">
        {{> partials/sidebar }}

        <!-- Start Content Area -->
        <div class="flex-1 main-content">
            {{> partials/topbar }}
            <!-- Start Content -->
            <div class="h-[calc(100vh-60px)] relative overflow-y-auto overflow-x-hidden p-4 space-y-4 detached-content">
                {{> partials/page-heading title="" sub-title="Dashboard" }}
                <!-- Start All Card -->
                <div class="mx-auto">
                    <div class="bg-white shadow-md px-6 pt-6 py-12">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="md:col-span-1">
                                <div class="flex flex-col gap-3">
                                    <input type="file" id="file" accept="image/*" class="border rounded-lg border-gray-400 p-2"/>

                                    <img id="preview" class="hidden w-full max-h-[300px] object-contain border rounded"/>

                                    <button id="scanBtn" class="bg-blue-500 text-white px-4 py-2 rounded hidden flex items-center justify-center gap-2 min-w-[150px]" onclick="scan()">
                                        <svg id="scanSpinner" class="hidden w-4 h-4 animate-spin" viewBox="0 0 24 24" fill="none">
                                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                            <path class="opacity-75" fill="currentColor"
                                                d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                        </svg>
                                        <span id="scanText">Scan OCR</span>
                                    </button>
                                </div>
                            </div>

                            <!-- NAMA TOKO -->
                            <div class="md:col-span-2 space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
                                    <label class="md:col-span-1 font-medium md:pl-16 md:ml-10">Nama Toko</label>
                                    <div class="md:col-span-2">
                                        <input type="text" id="Toko" class="border rounded-lg border-gray-400 p-2 w-full" disabled>
                                        <p id="error-toko" class="text-red-500 text-sm mt-1 hidden">
                                            Nama toko harus terisi
                                        </p>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <label class="md:col-span-1 font-medium md:pl-16 md:ml-10">Date</label>
                                    <div class="md:col-span-2">
                                        <input type="date" id="Date" class="border rounded-lg border-gray-400 p-2 w-full" disabled>
                                        <p id="error-date" class="text-red-500 text-sm mt-1 hidden">
                                            Date harus terisi
                                        </p>
                                    </div>
                                </div>

                                    <!-- NOTE -->
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <label class="md:col-span-1 font-medium md:pl-16 md:ml-10">Note</label>
                                    <div class="md:col-span-2">
                                        <textarea id="Note" class="border rounded-lg border-gray-400 p-2 w-full" rows="3" disabled></textarea>

                                        <p id="error-note" class="text-red-500 text-sm mt-1 hidden">
                                            Note harus terisi
                                        </p>
                                    </div>
                                </div>

                                    <!-- TOTAL -->
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <label class="md:col-span-1 font-medium md:pl-16 md:ml-10">Total</label>
                                    <div class="md:col-span-2">
                                        <input type="text" id="Total" class="border rounded-lg border-gray-400 p-2 w-full" disabled>
                                        <p id="error-total" class="text-red-500 text-sm mt-1 hidden">
                                            Total harus terisi
                                        </p>
                                    </div>
                                </div>

                                    <!-- BUTTON -->
                                <div class="flex gap-3 justify-end">
                                    <button id="submitButton" class="px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition hidden">
                                        <svg id="submitSpinner" class="hidden w-4 h-4 animate-spin" viewBox="0 0 24 24" fill="none">
                                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"></path>
                                        </svg>
                                        <span id="submitText" class="whitespace-nowrap">Submit</span>
                                    </button>
                                    <button id="clearButton" type="reset" class="px-5 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition">
                                        Clear
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <pre hidden id="result"></pre>


                <div class="flex flex-col gap-4 min-h-[calc(100vh-212px)]">
                    <div class="grid grid-cols-12 gap-4">
                        <div class="col-span-12 2xl:col-span-12 order-[17] card">
                            <div class="flex items-center gap-3 mb-4">
                                <h2 class="text-base font-semibold capitalize text-slate-800 dark:text-slate-100 grow">Products List</h2>
                                <a href="#" class="px-3 py-1.5 rounded-md text-xs border border-black/20 dark:border-darkborder text-muted"><i class="align-bottom ltr:mr-1 rtl:ml-1 ri-filter-line"></i> Filters</a>
                            </div>
                            <div>
                                <button onclick="showAddModal()"
                                    class="btn bg-white text-purple px-4 py-1 rounded border-purple mb-3 flex items-center gap-2">
                                    <i class="ri-add-line text-xl"></i>
                                    Add Product
                                </button>
                                <table id="productTable" class="min-w-[640px]">
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End All Card -->
                {{> partials/footer }}
            </div>
        </div>
    </div>
</div>
<div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-[300px] text-center">
        <h2 class="text-lg font-bold text-green-600 mb-2">Success</h2>
        <p class="text-gray-700 mb-4" id="textSuccess"></p>
        <button onclick="closeSuccessModal()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
            OK
        </button>
    </div>
</div>
<div id="imageModal" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50">
    <img id="modalImage" class="max-w-[90%] max-h-[90%] rounded">
</div>
<div id="errorModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center">
    <div class="bg-white pt-0 pb-3 rounded-lg shadow-lg w-[300px] text-center">
        <header class="bg-danger">
            <h2 class="text-lg font-bold text-white mb-2 py-1 rounded">Failed</h2>
        </header>
        <p class="text-gray-700 mb-4 whitespace-pre-line" id="textError"></p>
        <button onclick="closeErrorModal()" class="bg-white text-danger px-4 py-2 rounded hover:bg-gray-200 border border-red-700">
            OK
        </button>
    </div>
</div>
<script type="module" src="assets/js/main.js"></script>
<script src="assets/js/pages/module_expenses.js"></script>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<script type="module" src="assets/js/pages/logout.js"></script>

{{> partials/vendor-scripts }}



</body>

</html>